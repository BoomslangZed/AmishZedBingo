<!DOCTYPE html>
<html>
<head>
  <title>AmishZed Bingo PDF Generator</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding-top: 50px;
      background: #f4f4f4;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    h1 {
      margin-bottom: 30px;
    }

    .buttonContainer{
      text-align:center;
      margin-bottom:20px;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      transition: 0.3s;
      width:auto;
      display:inline-block;
    }

    button:hover {
      background-color: #45a049;
    }

    #rules {
      max-width: 450px;
      margin: 30px auto;
      text-align: left;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 5px 20px rgba(0,0,0,0.1);
    }

    footer{
      margin-top:auto;
      padding:40px 20px;
      font-size:14px;
      color:#555;
      max-width:700px;
      margin-left:auto;
      margin-right:auto;
      line-height:1.6;
    }

    #nameModal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 10px;
      width: 300px;
      text-align: center;
      animation: fadeIn 0.3s ease;
      position: relative;
    }

    .modal-content input {
      width: 100%;
      padding: 10px;
      margin-top: 15px;
      font-size: 16px;
      box-sizing: border-box;
    }

    .close-btn {
      position: absolute;
      right: 15px;
      top: 10px;
      cursor: pointer;
      font-size: 24px;
      line-height: 1;
      user-select: none;
    }

    @keyframes fadeIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
  </style>
</head>

<body>

<h1>üéâ AmishZed Bingo PDF Generator üéâ</h1>

<div class="buttonContainer">
<button onclick="openModal()">CLICK TO GENERATE</button>
</div>

<div id="rules">
  <h2>üìù How to Play ISH Bingo</h2>
  <ol>
    <li>üñ±Ô∏è Click the <strong>"CLICK TO GENERATE"</strong> button.</li>
    <li>üôã‚Äç‚ôÇÔ∏è Enter your username.</li>
    <li>üóÇÔ∏è Download your Bingo card PDF.</li>
    <li>üéâ When you get Bingo, share it in chat!</li>
  </ol>
</div>

<div id="nameModal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <h3>Enter Your Name</h3>
    <input type="text" id="playerNameInput" placeholder="Your name" />
    <br><br>
    <button onclick="startBingo()">Generate Card</button>
  </div>
</div>

<footer>
To AmishZed, thanks for the hours of entertainment and fun.  
You are the light that shines during our mundane days in the office or at home.  
We truly appreciate you and your less than stellar gameplay. ‚ù§Ô∏è -Chat
</footer>

<script>
const { jsPDF } = window.jspdf;

const phrases = [
'MORNING F','ISH TALKS ABOUT RUN CLUB','ISH STRIPS','ISH MISSES A SHOT AGAINST A PLAYER',
'ISH MISSES A SHOT AGAINST AN ANIMAL','BABYZED PHOTO','ISH PROMOTES NEW YT VIDEO','"BURY"',
'ISH GOES RED HUNGRY','ISH GASLIGHTS HIMSELF ABOUT BINGO','ISH MENTIONS BOTTLE OPENING FEES',
'ISH TALKS ABOUT SKATEBOARDING','ISH DRINKS AT A WELL','ISH TALKS ABOUT COMCAST','DAD JOKE IS TOLD',
'ISH GETS A KILL','HYPE TRAIN','ISH PUTS UP TIME OUT SYMBOL WHILE AFK','ISH PICKS UP AN SKS',
'ISH DOES A DESK POP','ISH TALKS ABOUT GROWING OUT HIS HAIR','ISH TALKS ABOUT BEING BANNED FOR COMBAT LOGGING',
'ISH TALKS ABOUT BREAKING HIS WRIST','ISH MENTIONS MARVEL','ISH PUNCHES SOMEONE TO DEATH','ISH ACCIDENTALLY KILLS HIMSELF',
'ISH SAYS SOMETHING IN SPANISH','ISH THROWS A GRENADE','ISH MENTIONS THAT HE LISTENED TO A PODCAST','ISH MENTIONS LETTERBOX',
'ISH TALKS ABOUT HIS OLD SAFETY JOB','BABYZED SAYS GODDAMMIT','LADYZED SAYS "OMG BORING"',
'ISH GOES RED THIRSTY','ISH EATS A HUMAN STEAK','ISH TALKS ABOUT AN ATTRACTIVE FEMALE ACTRESS',
'ISH SAYS SOMETHING SUS ABOUT A MALE ACTOR','ISH TALKS ABOUT BUYING A NEW HOUSE',
'"GEEZ LOUISE"','BLACK AND WHITE STREAM DUE TO LACK OF BLOOD','MY SUMMER CAR GETS MENTIONED',
'ISH EATS A COSMIC CRISP APPLE','"OI VEY"','VICTORY BEER','ISH MENTIONS HE WAS AN EXTRA ON AMISH MAFIA',
'DEEZ NUTS JOKE','ISH MENTIONS REDLINE','TEAM KILL BETTER KNOWN AS AN ISHING','ISH GETS SCARED BY SCARE DONO',
'SOMEONE MAKES ROBOT LADY GARGLE','ISH MENTIONS GAME OF THRONES','"I SAW A POST ON REDDIT"',
'ISH SINGS BEAR NECESSETIES','ISH MENTIONS PRAGUE','ISH SAYS "PICKLE"','ISH MENTIONS BILL',
'ISH DIES','DAYZ BUGS','ISH GETS CUT BY A ZOMBIE','ISH GETS KNOCKED OUT','FERRO SHOT',
'"I FOUND A _____ THERE"','ISH BREAKS A LEG','ISH PUTS ON AN ORANGE TULUNE',
'ISH ACCIDENTALLY RUINS AN ITEM','ISH SAYS 6 7','ISH PICKS UP A TEDDY BEAR',
'ISH TELLS SOMEONE HE IS A SINGER','ISH TEAMS UP WITH A RANDOM','ISH SAYS "LIKE"',
'ISH TALKS ABOUT BREAKING HIS WRIST','ISH SAYS "THANK YOU, THANK YOU"','CHAT GIFTS MERCH','ISH MENTIONS COSTCO'
];

function openModal() {
  document.getElementById("nameModal").style.display = "flex";
  document.getElementById("playerNameInput").focus();
}

function closeModal() {
  document.getElementById("nameModal").style.display = "none";
}

window.onclick = function(e) {
  if (e.target === document.getElementById("nameModal")) {
    closeModal();
  }
}

document.getElementById("playerNameInput").addEventListener("keypress", function(e) {
  if (e.key === "Enter") startBingo();
});

function generateRandomCard() {
  const shuffled = [...phrases].sort(() => Math.random() - 0.5);
  const selected = shuffled.slice(0, 24);
  selected.splice(12, 0, "FREE SPACE");
  return selected;
}

function startBingo() {
  let playerName = document.getElementById("playerNameInput").value.trim();
  if (!playerName) playerName = "Anonymous";
  closeModal();
  generateCard(playerName);
}

function generateCard(playerName) {

  const card = generateRandomCard();
  const doc = new jsPDF();
  const pageWidth = doc.internal.pageSize.getWidth();

  doc.setFont("helvetica", "bold");
  doc.setFontSize(22);
  doc.text("AmishZed Bingo", pageWidth / 2, 20, { align: "center" });

  doc.setFont("helvetica", "normal");
  doc.setFontSize(14);
  doc.text(playerName, pageWidth / 2, 30, { align: "center" });

  const startX = 20;
  const startY = 50;
  const cellSize = 35;

  doc.setFontSize(10);
  doc.setLineWidth(0.2);

  for (let row = 0; row < 5; row++) {
    for (let col = 0; col < 5; col++) {

      const x = startX + col * cellSize;
      const y = startY + row * cellSize;
      const text = card[row * 5 + col];

      doc.rect(x, y, cellSize, cellSize);

      const splitText = doc.splitTextToSize(text, cellSize - 4);
      const textY = y + cellSize / 2 - ((splitText.length - 1) * 2);

      doc.text(splitText, x + cellSize / 2, textY + 4, { align: "center" });
    }
  }

  const today = new Date();
  doc.setFontSize(12);
  doc.text(`Date: ${today.toLocaleDateString()}`, pageWidth / 2, startY + 5 * cellSize + 15, { align: "center" });

  const filename = `AmishZed Bingo ${today.toISOString().split('T')[0]}.pdf`;
  doc.save(filename);
}
</script>

</body>
</html>
