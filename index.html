<!DOCTYPE html>
<html>
<head>
  <title>AmishZed Bingo PDF Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 50px;
    }
    h1 {
      margin-bottom: 30px;
    }
    button {
      padding: 15px 30px;
      font-size: 18px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
    }
    button:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>

<h1>ðŸŽ‰ AmishZed Bingo PDF Generator</h1>

<button onclick="generateCardWithName()">CLICK TO GENERATE</button>

<script>
const { jsPDF } = window.jspdf;

const phrases = [
  'MORNING F',
  'ISH TALKS ABOUT RUN CLUB',
  'ISH STRIPS',
  'ISH MISSES A SHOT AGAINST A PLAYER',
  'ISH MISSES A SHOT AGAINST AN ANIMAL',
  'BABYZED PHOTO',
  'ISH PROMOTES NEW YT VIDEO',
  '"BURY"',
  'ISH GOES RED HUNGRY',
  'ISH MENTIONS BOTTLE OPENING FEES',
  'ISH TALKS ABOUT SKATEBOARDING',
  'ISH DRINKS AT A WELL',
  'ISH TALKS ABOUT COMCAST',
  'MY SUMMER CAR GETS MENTIONED',
  'ISH EATS A COSMIC CRISP APPLE', 
  '"OI VEY"',
  'ISH GETS SCARED BY SCARE DONO',
  'SOMEONE MAKES ROBOT LADY GARGLE',
  'ISH MENTIONS GAME OF THRONES',
  '"I SAW A POST ON REDDIT"',
  'ISH SINGS BEAR NECESSETIES',
  'ISH MENTIONS PRAGUE',
  'ISH SAYS "PICKLE"',
  'ISH MENTIONS BILL',
  'ISH DIES',
  'DAYZ BUGS',
  'FERRO SHOT',
  '"I FOUND A _____ THERE"',
  'ISH BREAKS A LEG',
  'ORANGE TULUNE'
];

function generateRandomCard() {
  const shuffled = [...phrases].sort(() => Math.random() - 0.5);
  const selected = shuffled.slice(0, 24);
  selected.splice(12, 0, "â˜…"); // middle cell as star
  return selected;
}

function generateCardWithName() {
  let playerName = prompt("Enter your name for the Bingo card:");
  if (!playerName) playerName = "Anonymous";

  const card = generateRandomCard();
  const doc = new jsPDF();

  const pageWidth = doc.internal.pageSize.getWidth();

  // Use 'times' font which supports the star
  doc.setFont("times", "bold");
  doc.setFontSize(22);
  doc.text("AmishZed Bingo", pageWidth / 2, 20, { align: "center" });

  // Player name below title
  doc.setFont("times", "normal");
  doc.setFontSize(14);
  doc.text(playerName, pageWidth / 2, 30, { align: "center" });

  const startX = 20;
  const startY = 40;
  const cellSize = 35;
  doc.setFontSize(10);

  // Thicker grid lines
  doc.setLineWidth(0.8);

  // Draw 5x5 grid
  for (let row = 0; row < 5; row++) {
    for (let col = 0; col < 5; col++) {
      const x = startX + col * cellSize;
      const y = startY + row * cellSize;
      const text = card[row * 5 + col];

      doc.rect(x, y, cellSize, cellSize);

      // Center the text, including star
      const splitText = doc.splitTextToSize(text, cellSize - 4);
      const textY = y + (cellSize / 2) - ((splitText.length - 1) * 2);
      doc.text(splitText, x + cellSize / 2, textY + 4, { align: "center" });
    }
  }

  // Date at bottom
  const today = new Date();
  const dateStr = today.toISOString().split('T')[0]; // YYYY-MM-DD
  doc.setFont("times", "normal");
  doc.setFontSize(12);
  doc.text(`Date: ${today.toLocaleDateString()}`, pageWidth / 2, startY + 5*cellSize + 15, { align: "center" });

  // Save PDF
  const filename = `AmishZed Bingo ${dateStr}.pdf`;
  doc.save(filename);
}
</script>

</body>
</html>
